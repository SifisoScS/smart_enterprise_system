@inherits LayoutComponentBase
@using Microsoft.AspNetCore.Components.Routing
@using MudBlazor

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Enterprise Management System</title>
    <base href="/" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
</head>
<body>
    <div id="app">
        <MudThemeProvider />
        <MudDialogProvider />
        <MudSnackbarProvider />

        <MudLayout>
            <MudAppBar Elevation="1">
                <MudIconButton Icon="Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
                <MudSpacer />
                <MudText Typo="Typo.h6" Class="ml-3">Smart Enterprise System</MudText>
                <MudSpacer />
                <MudIconButton Icon="Icons.Material.Filled.AccountCircle" Color="Color.Inherit" />
            </MudAppBar>
            <MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
                <MudNavMenu>
                    <MudText Typo="Typo.h6" Class="px-4 py-2">Navigation</MudText>
                    <MudDivider />
                    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="Icons.Material.Filled.Home">Dashboard</MudNavLink>
                    <MudNavLink Href="/health" Icon="Icons.Material.Filled.MonitorHeart">API Health</MudNavLink>
                    <MudNavLink Href="/system-info" Icon="Icons.Material.Filled.Info">System Info</MudNavLink>
                </MudNavMenu>
            </MudDrawer>
            <MudMainContent>
                <MudContainer MaxWidth="MaxWidth.Large" Class="my-4">
                    @Body
                </MudContainer>
            </MudMainContent>
        </MudLayout>
    </div>

    <script src="_framework/blazor.webassembly.js"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
</body>
</html>

@code {
    bool _drawerOpen = true;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}